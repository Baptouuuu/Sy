/*! sy#1.2.0 - 2015-01-13 */
function namespace(a){var b=null,c=this;if("string"==typeof a)b=a.split(".");else{if(!(a instanceof Array&&a.length>0))return c;b=a}return c[b[0]]=c[b[0]]||{},a=b.shift(),namespace.call(c[a],b)}function objectSetter(a,b){var c="",d="",e=this,f=a.lastIndexOf(".");f>=0?(d=a.substr(f+1),c=a.substr(0,f),e=namespace.call(e,c)):d=a,e[d]=b}function objectGetter(a){var b=null,c=this;if("string"==typeof a){if(b=a.split("."),1===b.length)return c[a]}else{if(!(a instanceof Array&&a.length>1))return a instanceof Array&&1===a.length?c[a[0]]:void 0;b=a}return a=b.shift(),objectGetter.call(c[a],b)}function capitalize(a){return a.substr(0,1).toUpperCase()+a.substr(1)}function reflectedObjectGetter(a){var b=null,c=this;if("string"==typeof a){if(b=a.split("."),1===b.length)return getReflectedValue.call(c,a)}else{if(!(a instanceof Array&&a.length>1))return a instanceof Array&&1===a.length?getReflectedValue.call(c,a[0]):void 0;b=a}return a=b.shift(),reflectedObjectGetter.call(getReflectedValue.call(c,a),b)}function getReflectedValue(a){var b=new ReflectionObject(this);return b.hasMethod("get"+capitalize(a))?b.getMethod("get"+capitalize(a)).call():b.hasMethod("get")?b.getMethod("get").call(a):b.hasProperty(a)?b.getProperty(a).getValue():void 0}namespace("Sy"),Sy.FactoryInterface=function(){},Sy.FactoryInterface.prototype=Object.create(Object.prototype,{make:{value:function(){}}}),namespace("Sy"),Sy.RegistryInterface=function(){},Sy.RegistryInterface.prototype=Object.create(Object.prototype,{set:{value:function(){}},has:{value:function(){}},get:{value:function(){}},getMapping:{value:function(){}},remove:{value:function(){}},length:{value:function(){}}}),namespace("Sy"),Sy.Registry=function(){this.data={},this.registryLength=0},Sy.Registry.prototype=Object.create(Sy.RegistryInterface.prototype,{set:{value:function(a,b){return"string"==typeof a&&(this.data[a]=b,this.registryLength++),this}},has:{value:function(a){return this.data.hasOwnProperty(a)?!0:!1}},get:{value:function(a){if(this.has(a))return this.data[a];if(void 0===a){var b=[];for(var c in this.data)this.data.hasOwnProperty(c)&&b.push(this.data[c]);return b}throw new ReferenceError('"'+a+'" is not defined')}},getMapping:{value:function(){var a={};for(var b in this.data)this.data.hasOwnProperty(b)&&(a[b]=this.data[b]);return a}},remove:{value:function(a){if(void 0===a)for(var b in this.data)this.data.hasOwnProperty(b)&&this.remove(b);else if(a instanceof Array)for(var c=0,d=a.length;d>c;c++)this.remove(a[c]);else"string"==typeof a&&this.has(a)&&(delete this.data[a],this.registryLength--);return this}},length:{value:function(){return this.registryLength}}}),namespace("Sy"),Sy.RegistryFactory=function(){},Sy.RegistryFactory.prototype=Object.create(Sy.FactoryInterface.prototype,{make:{value:function(){return new Sy.Registry}}}),namespace("Sy"),Sy.StateRegistryInterface=function(){},Sy.StateRegistryInterface.prototype=Object.create(Object.prototype,{set:{value:function(){}},has:{value:function(){}},get:{value:function(){}},state:{value:function(){}},remove:{value:function(){}},setStrict:{value:function(){}}}),namespace("Sy"),Sy.StateRegistry=function(){this.data=null,this.states=[],this.registryFactory=null,this.strict=!1},Sy.StateRegistry.prototype=Object.create(Sy.StateRegistryInterface.prototype,{setRegistryFactory:{value:function(a){if(!(a instanceof Sy.RegistryFactory))throw new TypeError("Invalid factory");return this.registryFactory=a,this.data=a.make(),this}},set:{value:function(a,b,c){if(!this.has(a)){var d=this.registryFactory.make();this.data.set(a,d),this.states.push(a)}if(this.strict===!0){var e=this.state(b);void 0!==e&&this.remove(e,b)}return this.data.get(a).set(b,c),this}},has:{value:function(a,b){return void 0===b&&this.data.has(a)?!0:this.data.has(a)&&this.data.get(a).has(b)?!0:!1}},get:{value:function(a,b){switch(arguments.length){case 2:if(this.has(a,b))return this.data.get(a).get(b);break;case 1:if(this.has(a))return this.data.get(a).get();break;case 0:var c={};for(var d in this.states)this.states.hasOwnProperty(d)&&(c[this.states[d]]=this.data.get(this.states[d]).get());return c}throw new ReferenceError('"'+b+'" does not exist in "'+a+'" state')}},state:{value:function(a){var b=[];for(var c in this.states)this.data.get(this.states[c]).has(a)&&b.push(this.states[c]);switch(b.length){case 0:return void 0;case 1:return b[0];default:return b}}},remove:{value:function(a,b){if(void 0===a)for(var c=0,d=this.states.length;d>c;c++)this.remove(this.states[c]);else this.data.get(a).remove(b);return this}},setStrict:{value:function(){return this.strict=!0,this}},getStates:{value:function(){for(var a=[],b=0,c=this.states.length;c>b;b++)this.data.get(this.states[b]).get().length>0&&a.push(this.states[b]);return a}}}),namespace("Sy"),Sy.StateRegistryFactory=function(){this.registryFactory=null},Sy.StateRegistryFactory.prototype=Object.create(Sy.FactoryInterface.prototype,{setRegistryFactory:{value:function(a){if(!(a instanceof Sy.RegistryFactory))throw new TypeError("Invalid factory");return this.registryFactory=a,this}},make:{value:function(){var a=new Sy.StateRegistry;return a.setRegistryFactory(this.registryFactory),a}}});